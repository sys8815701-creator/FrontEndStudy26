<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기술 블로그</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .blog-card {
            transition: transform 0.3s, box-shadow 0.3s;
            height: 100%;
        }
        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .category-badge {
            position: absolute;
            top: 10px;
            right: 10px;
        }
        .blog-meta {
            font-size: 0.85rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Tech Blog</a>
            <div class="ms-auto">
                <input type="search" class="form-control" id="searchInput" placeholder="글 검색...">
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-outline-primary active" data-category="all">전체</button>
                    <button type="button" class="btn btn-outline-primary" data-category="javascript">JavaScript</button>
                    <button type="button" class="btn btn-outline-primary" data-category="css">CSS</button>
                    <button type="button" class="btn btn-outline-primary" data-category="backend">Backend</button>
                </div>
            </div>
        </div>

        <div class="row g-4" id="blogList">
            <!-- 블로그 카드들이 여기에 동적으로 추가됩니다 -->
        </div>

        <nav class="mt-5">
            <ul class="pagination justify-content-center" id="pagination">
                <!-- 페이지네이션이 여기에 동적으로 추가됩니다 -->
            </ul>
        </nav>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
        // 샘플 블로그 데이터
        const blogPosts = [
            {
                id: 1,
                title: "JavaScript 비동기 프로그래밍 완벽 가이드",
                summary: "Promise, async/await를 활용한 비동기 처리 방법을 상세히 알아봅니다.",
                category: "javascript",
                author: "김개발",
                date: "2024-01-15",
                views: 1250,
                image: "https://via.placeholder.com/400x200/007bff/ffffff?text=JavaScript"
            },
            {
                id: 2,
                title: "CSS Grid vs Flexbox: 언제 무엇을 사용할까?",
                summary: "레이아웃 시스템 두 가지의 차이점과 적절한 사용 시나리오를 비교합니다.",
                category: "css",
                author: "이디자인",
                date: "2024-01-14",
                views: 980,
                image: "https://via.placeholder.com/400x200/6610f2/ffffff?text=CSS"
            },
            {
                id: 3,
                title: "RESTful API 설계 원칙과 베스트 프랙티스",
                summary: "실무에서 바로 적용 가능한 API 설계 가이드라인을 소개합니다.",
                category: "backend",
                author: "박멘토",
                date: "2024-01-13",
                views: 1500,
                image: "https://via.placeholder.com/400x200/28a745/ffffff?text=Backend"
            },
            {
                id: 4,
                title: "부트스트랩 5 커스터마이징 완전 정복",
                summary: "Sass 변수를 활용한 부트스트랩 테마 커스터마이징 방법을 다룹니다.",
                category: "css",
                author: "이디자인",
                date: "2024-01-12",
                views: 750,
                image: "https://via.placeholder.com/400x200/6610f2/ffffff?text=Bootstrap"
            }
        ];

        let currentCategory = 'all';
        let currentPage = 1;
        const postsPerPage = 3;

        // 블로그 카드 렌더링
        function renderBlogPosts(category = 'all', page = 1) {
            const filteredPosts = category === 'all'
                ? blogPosts
                : blogPosts.filter(post => post.category === category);

            const startIndex = (page - 1) * postsPerPage;
            const endIndex = startIndex + postsPerPage;
            const paginatedPosts = filteredPosts.slice(startIndex, endIndex);

            const blogList = $('#blogList');
            blogList.empty();

            paginatedPosts.forEach(post => {
                const card = `
                    <div class="col-md-4">
                        <div class="card blog-card">
                            <span class="badge bg-primary category-badge">${post.category}</span>
                            <img src="${post.image}" class="card-img-top" alt="${post.title}">
                            <div class="card-body">
                                <h5 class="card-title">${post.title}</h5>
                                <p class="card-text">${post.summary}</p>
                                <div class="blog-meta d-flex justify-content-between">
                                    <span>${post.author}</span>
                                    <span>${post.date}</span>
                                </div>
                                <div class="blog-meta mt-2">
                                    <span>조회수: ${post.views}</span>
                                </div>
                                <a href="#" class="btn btn-outline-primary mt-3 view-post" data-id="${post.id}">
                                    자세히 보기
                                </a>
                            </div>
                        </div>
                    </div>
                `;
                blogList.append(card);
            });

            renderPagination(filteredPosts.length, page);
        }

        // 페이지네이션 렌더링
        function renderPagination(totalPosts, currentPage) {
            const totalPages = Math.ceil(totalPosts / postsPerPage);
            const pagination = $('#pagination');
            pagination.empty();

            for (let i = 1; i <= totalPages; i++) {
                const pageItem = `
                    <li class="page-item ${i === currentPage ? 'active' : ''}">
                        <a class="page-link" href="#" data-page="${i}">${i}</a>
                    </li>
                `;
                pagination.append(pageItem);
            }
        }

        // 카테고리 필터링
        $('.btn-group button').click(function() {
            $('.btn-group button').removeClass('active');
            $(this).addClass('active');
            currentCategory = $(this).data('category');
            currentPage = 1;
            renderBlogPosts(currentCategory, currentPage);
        });

        // 페이지네이션 클릭
        $(document).on('click', '.pagination a', function(e) {
            e.preventDefault();
            currentPage = $(this).data('page');
            renderBlogPosts(currentCategory, currentPage);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // 검색 기능
        $('#searchInput').on('input', function() {
            const searchTerm = $(this).val().toLowerCase();
            $('.blog-card').each(function() {
                const title = $(this).find('.card-title').text().toLowerCase();
                const summary = $(this).find('.card-text').text().toLowerCase();

                if (title.includes(searchTerm) || summary.includes(searchTerm)) {
                    $(this).closest('.col-md-4').show();
                } else {
                    $(this).closest('.col-md-4').hide();
                }
            });
        });

        // 초기 렌더링
        renderBlogPosts();
    </script>
</body>
</html>